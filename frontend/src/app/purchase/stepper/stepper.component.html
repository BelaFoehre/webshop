<nb-card>
  <nb-card-body>
    <nb-stepper #stepper>
      <nb-step [stepControl]="firstForm" label="Addresse">
        <form [formGroup]="firstForm" (ngSubmit)="onFirstSubmit()" class="step-container" style="display: flex; flex-direction: column;">
          <div style="width: 100%">
            <nb-card style="float: left; width: fit-content; width: 50%">
              <nb-card-header>Lieferaddresse</nb-card-header>
              <nb-card-body style="width: 100%">
                <div class="form-group">
                  <label for="land">Land</label>
                  <input nbInput fullWidth name="land" type="text" class="form-control" formControlName="landCtrl" placeholder="Land">
                  <br>
                  <label for="plz">PLZ</label>
                  <input nbInput fullWidth name="plz" type="number" class="form-control" formControlName="plzCtrl" placeholder="13127">
                  <br>
                  <label for="ort">Ort</label>
                  <input nbInput fullWidth name="ort" type="text" class="form-control" formControlName="ortCtrl" placeholder="Ort">
                  <br>
                  <label for="strasse">Strasse</label>
                  <input nbInput fullWidth name="strasse" type="text" class="form-control" formControlName="strasseCtrl" placeholder="Strasse">
                  <br>
                  <label for="hausnummer">Hausnummer</label>
                  <input nbInput fullWidth name="hausnummer" type="text" class="form-control" formControlName="hausnummerCtrl" placeholder="Hausnummer">
                  <br>
                  <label for="zusatz">Addresszusatz</label>
                  <input nbInput fullWidth name="zusatz" type="text" class="form-control" formControlName="zusatzCtrl" placeholder="Addresszusatz">
                </div>
              </nb-card-body>

            </nb-card>
            <nb-card *ngIf="firstForm.get('checkboxCtrl')?.value" style="width: fit-content; width: 50%">
              <nb-card-header>Rechnungsaddresse</nb-card-header>
              <nb-card-body>
                <div class="form-group">
                  <label for="r_land">Land</label>
                  <input nbInput fullWidth name="r_land" type="text" class="form-control" formControlName="r_landCtrl" placeholder="Land">
                  <br>
                  <!-- <label for="r_plz">PLZ</label>
                  <input nbInput fullWidth name="r_plz" type="number" class="form-control" placeholder="13127">
                  <br>
                  <label for="r_ort">Ort</label>
                  <input nbInput fullWidth name="r_ort" type="text" class="form-control" placeholder="Ort">
                  <br>
                  <label for="r_strasse">Strasse</label>
                  <input nbInput fullWidth name="r_strasse" type="text" class="form-control" placeholder="Strasse">
                  <br>
                  <label for="r_hausnummer">Hausnummer</label>
                  <input nbInput fullWidth name="r_hausnummer" type="text" class="form-control" placeholder="Hausnummer">
                  <br>
                  <label for="r_zusatz">Addresszusatz</label>
                  <input nbInput fullWidth name="r_zusatz" type="text" class="form-control" placeholder="Addresszusatz"> -->
                </div>
              </nb-card-body>
            </nb-card>
          </div>
          <div style="width: 100%">
            <nb-checkbox style="float: left" (change)="checkboxChange($event)" formControlName="checkboxCtrl" status="basic">abweichende Rechnungsaddresse</nb-checkbox>
            <button style="float: right" class="btn btn-success" [disabled]="!firstForm.valid" nbStepperNext>Weiter</button>
          </div>
        </form>
      </nb-step>
      <nb-step [stepControl]="secondForm" label="Second step">
        <form [formGroup]="secondForm" (ngSubmit)="onSecondSubmit()" class="step-container">
          <p class="lorem">
            Pellentesque we gonna chung tortor.
            Sizzle pizzle. Fizzle izzle dolor dapibus fo shizzle mah nizzle fo rizzle, mah home g-dizzle tempus tempor.
            Maurizzle cool nibh owned turpizzle. My shizz fo shizzle tortor.
          </p>
          <div class="input-group">
            <input nbInput type="text" placeholder="Enter favorite movie" class="form-control" formControlName="secondCtrl"
                   [ngClass]="{'form-control-danger': secondForm.invalid && (secondForm.dirty || secondForm.touched)}">
          </div>
          <button nbButton nbStepperPrevious>prev</button>
          <button nbButton nbStepperNext>next</button>
        </form>
      </nb-step>
      <nb-step [stepControl]="thirdForm" label="Third step">
        <form [formGroup]="thirdForm" (ngSubmit)="onThirdSubmit()" class="step-container">
          <p class="lorem">
            Things boom shackalack rhoncus yo. In fo shizzle my nizzle gangsta platea dictumst. Check it out pot.
          </p>
          <div class="input-group">
            <input nbInput type="text" placeholder="Enter something" class="form-control" formControlName="thirdCtrl"
                   [ngClass]="{'form-control-danger': thirdForm.invalid && (thirdForm.dirty || thirdForm.touched)}">
          </div>
          <button nbButton nbStepperPrevious>prev</button>
          <button nbButton nbStepperNext>Confirm</button>
        </form>
      </nb-step>
      <nb-step [stepControl]="thirdForm" [hidden]="true" label="Third step">
        <div class="step-container">
          <h3>Wizard completed!</h3>
          <button nbButton (click)="stepper.reset()">Try again</button>
        </div>
      </nb-step>
    </nb-stepper>
  </nb-card-body>
</nb-card>
